<!DOCTYPE html>
<html lang="en">
<head>
  <title>Content Negotiation by Profile</title>
  <meta content="text/html; charset=utf-8" http-equiv="content-type"/>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <link rel="stylesheet" type="text/css" href="https://www.w3.org/StyleSheets/TR/2016/W3C-WG-NOTE"/>
  <link rel="stylesheet" type="text/css" href="dxwg-additions.css">
</head>
<body class="h-entry" role="document" id="respecDocument">
  <section id="abstract">
    <h2>Abstract</h2>
    <p class="todo">
      This document describes how Internet clients may request negotiate for content provided by servers according to
      <em>profiles</em>. This is distinct from negotiating by Media Type or Language.
    </p>
  </section>
  <section id="sotd">
    <!-- The "Status of This Document" section is generated by config.js -->
    <section id="FamilyOfDocs">
      <h3>Family of Documents</h3>
      <p>
        This document is part of the output of the Dataset Exchange Working Group (DXWG). All documents from the group
        are listed here.
      </p>
      <section id="dcat-docs">
        <h4>DCAT documents</h4>
        <p>
          The DCAT documents are about the revised Data Catalog Vocabulary.
        </p>
        <ul>
          <li>[[vocab-dcat]] (Recommendation), description of the DCAT RDF vocabulary</li>
        </ul>
      </section>
      <section id="profiling-docs">
        <h4>Profiling documents</h4>
        <p>
          These documents give guidance on profiling. Some of the documents are general while some are technology-specific.
          Please consult the Profile Guidance [[PROF-GUIDE]] document for an overview of all profiling documents. It is the
          recommended starting point.
        </p>
        <ul>
          <li>[[PROF-GUIDE]] (Recommendation), the top-level general profiling guidance document giving an overview of all other documents</li>
          <li><strong>[PROF-CONNEG]</strong> (Recommendation), <strong>this document</strong>, Specific guidance on how to negotiate for Internet resource content using profiles</li>
          <li>[[PROF-IETF]] (<a href="http://www.ietf.org">IETF</a> <a href="http://www.ietf.org/standards/ids/">Internet-Draft</a>), HTTP Headers for HTTP content negotiation by profile</li>
        </ul>
      </section>
    </section>
  </section>
  <section id="tof"></section>
  <section id="introduction">
    <h1>Introduction</h1>
    <p>
      Internet clients may wish to request that the content of a requested Internet resource adheres to a particular
      standard, specification or <em>profile</em>. This is distinct from the content being formatted according to a
      particular serialization or Media Type, such as HTML, one of the many forms of RDF or perhaps XML. Instead, this
      sort of adherence relates to the parts of the content and their concepts adhering to information or conceptual
      models. For example, information about a book may adhere to the Dublin Core Terms [[DCTERMS]] medatadata
      specifications with each field of information, such as <em>title</em>, <em>description</em>, <em>author</em> etc.,
      being defined according to various Dublin Core elements (<code>dct:title</code>, <code>dct:description</code>
      &amp; <code>dct:creator</code>, respectively).
    </p>
    <p>
      The content delivered by dereferencing Internet identifiers has long been able to be negotiated for in different
      ways. When using the HTTP protocol [[rfc7230]], a client may set an <code>Accept</code> header specifying
      preferred Media Types which the server may or may not supply. So too resources in different languages may be
      requested by setting an HTTP <code>Accept-Language</code> header. Until now, clients have not had a defined way
      to negotiate for content based on information model standard, specification or <em>profile</em> and this
      document addresses that.
    </p>
    <p>
      When selecting content negotiation mechanics, an Internet client may use the HTTP protocol but it also may not:
      methods for providing instructions to a server such as Query String Arguments (QSAs) are long established as
      useful for humans, machines and in situations where negotiation via HTTP is not best applicable. This document
      provides guidance for non-HTTP methods of content negotiation to ensure that they align with HTTP method thus
      ensuring their functional equivalency.
    </p>
  </section>
  <section id="definitions">
    <h2>Definitions</h2>
    <dl>
      <dt><dfn>formalism</dfn></dt>
      <dd>
        <p><em>definition not finalised</em></p>
        <p><em>Source: deliberations of the DXWG. See <a href="https://github.com/w3c/dxwg/issues/194">GitHub Issue 194</a>.</em></p>
      </dd>
      <dt><dfn>specification</dfn></dt>
      <dd>
        <p>
          An act of identifying something precisely or of stating a precise requirement.
        </p>
        <p>
          <em>Source: <a href="https://en.oxforddictionaries.com/definition/specification">Oxford English Dictionary</a>.</em>
        </p>
      </dd>
      <dt><dfn>standard</dfn></dt>
      <dd>
        <p>
          A basis for comparison; a reference point against which other things can be evaluated.
        </p>
        <p><em>Source: [[DCTERMS]]</em>.</p>
      </dd>
      <dt><dfn>profile</dfn></dt>
      <dd>
        <p>
          A named set of constraints on one or more identified base <em>specifications</em>,
          including the identification of any implementing subclasses of datatypes,
          semantic interpretations, vocabularies, options and parameters of those base specifications
          necessary to accomplish a particular function.
        </p>
        <p>
          This definition includes what are often called "application profiles", "metadata application
          profiles", or "metadata profiles".
        </p>
        <p><em>Source: deliberations of the DXWG. See <a href="https://www.w3.org/2017/dxwg/wiki/ProfileContext">ProfileContext wiki page</a>.</em></p>
      </dd>
    </dl>
    <div class="issue" data-number="378"></div>
  </section>
  <section id="motivation">
    <h2>Motivation</h2>
    <p>
      In many cases, there are several ways to describe a resource within the scope of a single Media Type.
      For instance, XML documents, while conforming to the <code>text/xml</code> Media Type may adhere to one of several
      DTDs or XML Schemas, whereas RDF documents (with a choice of Media Type serialisations such as
      <code>text/turtle</code> and even XML, <code>application/rdf+xml</code>) have a very large number of vocabularies
      (classes and properties) available use for their content's information model. When a client initiates a request
      for an Internet resource, e.g., an HTTP GET to retrieve or a PUT to create or replace a resource, neither the
      client nor the server have yet had any possibility to exchange information on how the transmitted resource will
      be structured precisely according to DTDs, XML Schema or, vocabularies or other standards, specifications or
      <em>profiles</em>. When using other methods such as QSAs, no universal or general standardised method for doing
      this has been established although there are multiple specific ways this has been implemented previously, such as
      the OAI-PMH protocol [[OAI-PMH]].
    </p>
    <p>
      This document describes content negotiation based on profiles using HTTP protocol by introducing new headers and
      non-HTTP methods, such as via QSAs by introducing a general QSA Aplication Programming Interface (API).
    </p>
    <div class="issue" data-number="379"></div>
  </section>
  <section id="relatedwork">
    <h2>Related Work</h2>
    <p>
      The necessary standardisation of the content-negotiation headers is done within the IETF. A first proposal
      for an <a href="https://profilenegotiation.github.io/I-D-Accept--Schema/I-D-accept-schema">Internet Draft
      for Negotiating Profiles in HTTP</a> is available but has not yet been submitted to the IETF. The current
      version of the draft (-00) is expected to be completely re-written in course of the process and should not
      be seen as anything but work-in-progress.
    </p>
    <div class="issue" data-number="380"></div>
    <div class="issue" data-number="382"></div>
    <div class="issue" data-number="383"></div>
    <div class="issue" data-number="384"></div>
  </section>
  <section id="testsuite">
    <h2>Test Suite</h2>
    <p>
      This section describes the software test suite used to assess adherence of implementations to guidance in
      this document.
    </p>
    <div class="issue" data-number="385"></div>
  </section>
  <section id="implementations">
    <h2>Implementations</h2>
    <p>
      This section describes exemplar implementations of the guidance outlined in this document.
    </p>
    <section class="implementation" id="impl-csiro">
      <h3><a href="https://www.csiro.au">CSIRO</a>'s pyLDAPI</h3>
      <p>
        CSIRO supports a <a href="https://www.python.org/">Python</a> <a href="http://flask.pocoo.org/">Flask</a>
        extension that implements the HTTP, QSA and ontology navigation by profile.
      </p>
      <ul>
        <li><a href="https://pypi.org/project/pyldapi/">pyLDAPI on the Python Package Index</a></li>
      </ul>
      <p>There are X number of Linked Data APIs implemented using this tool:</p>
      <ul>
        <li><a href="http://linked.data.gov.au/dataset/gnaf">G-NAF Dataset</a> - a Linked Data representation of Australia's geo-coded addresses <em>(not working yet)</em></li>
        <li><a href="http://pid.geoscience.gov.au/samples">Geoscience Australia's Linked Data API of Samples</a> <em>(not working yet)</em></li>
        <li><a href="http://pid.geoscience.gov.au/datasets">Geoscience Australia's dataset catalogue, eCat</a> <em>(not working yet)</em></li>
        <li><a href="http://linked.data.gov.au/dataset/geofabric">Geofabric</a> - a Linked Data representation of Australia's national digital surface hydrology product <em>(not working yet)</em></li>
      </ul>
      <h4>Implementation Test Suite results</h4>
      <p>
        <em>Here will be given each of the implementation instance's results according to the Test Suite</em>
      </p>
      <div class="issue" data-number="386"></div>
    </section>
    <section class="implementation" id="impl-ogc">
      <h3><a href="http://www.opengeospatial.org/">OGC</a>'s implementation</h3>
      <div class="issue" data-number="389"></div>
    </section>
    <section class="implementation" id="impl-dnb">
      <h3><a href="http://www.dnb.de">Deutsche Nationalbibliothek</a>'s implementation</h3>
      <div class="issue" data-number="387"></div>
    </section>
    <section class="implementation" id="impl-sdo">
      <h3><a href="http://schema.org">schema.org</a>'s implementation</h3>
      <div class="issue" data-number="388"></div>
    </section>
    <p></p>
  </section>
  <section id="appendices" class="appendix">
    <h2>Appendices</h2>
    <section id="requirements">
      <h2>List of Requirements</h2>
      <p>
        This section lists, and then addresses, individual requirements that the Dataset Exchange Working Group
        considered important to address content negotiation by profile.
      </p>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req" id="req-1">
          Entailment of schema.org [RES]
          <a href="https://github.com/w3c/dxwg/issues/65">65</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-1">Req. 1</a></p>
        <p>

        </p>
      </div>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req" id="req-2">
          Profile definition [RPFDF]
          <a href="https://github.com/w3c/dxwg/issues/72">72</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-2">Req. 2</a></p>
        <p>

        </p>
      </div>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req" id="req-3">
          Profiles listing [RPFL]
          <a href="https://github.com/w3c/dxwg/issues/73">73</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-3">Req. 3</a></p>
        <p>

        </p>
      </div>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req" id="req-4">
          Profile negotiation [RPFN]
          <a href="https://github.com/w3c/dxwg/issues/74">74</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-4">Req. 4</a></p>
        <p>

        </p>
      </div>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req"  id="req-5">
          Usage notes [RUN]
          <a href="https://github.com/w3c/dxwg/issues/86">86</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-5">Req. 5</a></p>
        <p>

        </p>
      </div>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req" id="req-6">
          Responses can conform to multiple, modular profiles (UC 5.3)
          <a href="https://github.com/w3c/dxwg/issues/217">217</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-6">Req. 6</a></p>
        <p>

        </p>
      </div>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req" id="req-7">
          Define conneg interaction with media types that have a profile param
          <a href="https://github.com/w3c/dxwg/issues/261">261</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-7">Req. 7</a></p>
        <p>

        </p>
      </div>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req" id="req-8">
          IETF submission must not include query param pattern requirements
          <a href="https://github.com/w3c/dxwg/issues/263">263</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-8">Req. 8</a></p>
        <p>

        </p>
      </div>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req" id="req-9">
          Metadata about server profile support can be used for discovery and mediated traversal via content negotiation. [ID5] (5.5)
          <a href="https://github.com/w3c/dxwg/issues/264">264</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-9">Req. 9</a></p>
        <p>

        </p>
      </div>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req" id="req-10">
          Enable the ability to negotiate the metadata profile via http, similar to the negotiation of metadata formats today. [ID30] (5.30)
          <a href="https://github.com/w3c/dxwg/issues/265">265</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-10">Req. 10</a></p>
        <p>

        </p>
      </div>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req" id="req-11">
          Return http link headers using the following relationship types... [ID30] (5.30)
          <a href="https://github.com/w3c/dxwg/issues/266">266</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-11">Req. 11</a></p>
        <p>

        </p>
      </div>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req" id="req-12">
          There is a need to distinguish between distributions that package the entire dataset and those that support access to specific items, queries, and packaged downloads of data. [ID51] (5.51)
          <a href="https://github.com/w3c/dxwg/issues/267">267</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-12">Req. 12</a></p>
        <p>

        </p>
      </div>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req" id="req-13">
          A profile must have an identifier that can be served with a response to an API or http request. [ID2] (5.2)
          <a href="https://github.com/w3c/dxwg/issues/284">284</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-13">Req. 13</a></p>
        <p>

        </p>
      </div>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req" id="req-14">
          A client should be able to determine which profiles are supported by a server, and with which content types or other properties, in order to receive the one most appropriate for their use.
          <a href="https://github.com/w3c/dxwg/issues/285">285</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-14">Req. 14</a></p>
        <p>

        </p>
      </div>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req" id="req-15">
          There should be a way for a client to look up additional information about a profile. (What kinds of information? Can we clarify this?) [ID2] (5.2)
          <a href="https://github.com/w3c/dxwg/issues/286">286</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-15">Req. 15</a></p>
        <p>

        </p>
      </div>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req" id="req-16">
          A profile can be modular, with a given response made up of more than one module. A server can indicate that a response conforms to multiple, modular profiles. [ID3] (5.3)
          <a href="https://github.com/w3c/dxwg/issues/287">287</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-16">Req. 16</a></p>
        <p>

        </p>
      </div>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req" id="req-17">
          Profiles offered by a service must be discoverable through a machine-readable graph of metadata that describes what is offered and how to invoke the offered profiles. [ID5] (5.5)
          <a href="https://github.com/w3c/dxwg/issues/288">288</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-17">Req. 17</a></p>
        <p>

        </p>
      </div>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req" id="req-18">
          Invocation of a profile may be by profile name, a schema choice, an encoding, and/or a language. (schema? And assume that encoding is type as in type="application/xml".) [ID5] (5.5)
          <a href="https://github.com/w3c/dxwg/issues/289">289</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-18">Req. 18</a></p>
        <p>

        </p>
      </div>
      <div class="requirement">
        <p class="reqTitle">Requirement</p>
        <p class="req" id="req-19">
          There needs to be metadata about the views provided by profiles (“named collections of properties”) that can included in a http header [ID5] (5.5)
          <a href="https://github.com/w3c/dxwg/issues/290">290</a>
        </p>
      </div>
      <div class="req-response">
        <p class="respTitle">RESPONSE FOR <a href="#req-19">Req. 19</a></p>
        <p>

        </p>
      </div>
    </section>
  </section>
  <div class="issue" data-number="390"></div>
  <script class="remove" src="config.js"></script>
  <script class="remove" src="https://www.w3.org/Tools/respec/respec-w3c-common"></script>
</body>
</html>
